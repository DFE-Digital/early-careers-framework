<h2 class="govuk-heading-l">Contents</h2>

<ul class="govuk-list govuk-list--bullet">
  <li><a href="#continuing-the-npq-registration-process" class="govuk-link">Continuing the NPQ registration process</a></li>
</ul>
<ul class="govuk-list govuk-list--bullet">
  <li><a href="#accept-npq-application" class="govuk-link">Accepting an NPQ application</a></li>
</ul>
<ul class="govuk-list govuk-list--bullet">
  <li><a href="#reject-npq-application" class="govuk-link">Rejecting an NPQ application</a></li>
</ul>
<ul class="govuk-list govuk-list--bullet">
  <li>
    <a href="#declaring-that-an-npq-participant-has-started-their-induction" class="govuk-link">
      Declaring that an NPQ participant has started their induction
    </a>
  </li>
</ul>

<hr class="govuk-section-break govuk-section-break--visible govuk-!-margin-top-6 govuk-!-margin-bottom-6">

<p class="govuk-body-m">The scenarios on this page show example request URLs and payloads clients can use to take actions
  via this API. The examples are only concerned with business logic and are missing details necessary for real-world
  usage. For example, authentication is completely left out.</p>

<h2 id="continuing-the-npq-registration-process" class="govuk-heading-l">Continuing the NPQ registration process</h2>
<p class="govuk-body-m">This scenario begins when a participant has been added to the service by registering for an NPQ
  course via the register for a national professional qualification (NPQ) service.</p>

<p class="govuk-body-m">When the participant has completed the registration process the NPQ application record will show;</p>

<ul class="govuk-list govuk-list--bullet">
  <li>whether the email address has been validated</li>
  <li>whether the TRN is valid</li>
  <li>whether the participant is eligible for funding</li>
</ul>

<h3 class="govuk-heading-m">1. Provider retrieves NPQ application records</h3>
<p class="govuk-body-m">Get the NPQ application records.</p>

<p class="govuk-body-m"><pre><code>GET /api/v1/npq-applications</code></pre></p>

<p class="govuk-body-m">This will return <a href="/lead-providers/guidance/reference#multiplenpqapplicationsresponse-object" class="govuk-link">multiple NPQ application records</a>.</p>

<p class="govuk-body-m">See <a href="/lead-providers/guidance/reference#get-api-v1-npq-applications" class="govuk-link">retrieve multiple NPQ applications</a> endpoint.</p>

<h3 class="govuk-heading-m">2. Provider refreshes NPQ application records</h3>
<p class="govuk-body-m">Get updated NPQ application records.</p>

<p class="govuk-body-m"><pre><code>GET /api/v1/npq-applications?filter={updated_since:"2021-05-13T11:21:55Z"}</code></pre></p>

<p class="govuk-body-m">This will return <a href="/lead-providers/guidance/reference#multiplenpqapplicationsresponse-object" class="govuk-link">multiple NPQ application records</a> with the updates to the record included.</p>

<p class="govuk-body-m">See <a href="/lead-providers/guidance/reference#get-api-v1-npq-applications" class="govuk-link">retrieve multiple NPQ applications</a> endpoint.</p>


<h2 id="accept-npq-application" class="govuk-heading-l">
  Accept an NPQ application
</h2>
<p class="govuk-body-m">
  This scenario begins after a participant has been added to the service by registering for an NPQ course
</p>
<h3 class="govuk-heading-m">1. Provider accepts an NPQ application</h3>
<p class="govuk-body-m">You can accept someone if they have successfully completed all application steps ahead of starting their course.</p>
<p class="govuk-body-m">
  <code>POST /api/v1/npq-applications/{id}/accept</code>
</p>
<p class="govuk-body-m">This returns an
  <a href="/lead-providers/guidance/reference#npqapplicationresponse-object" class="govuk-link">NPQ application record</a>.
</p>

<h2 id="reject-npq-application" class="govuk-heading-l">
  Reject an NPQ application
</h2>
<p class="govuk-body-m">
  This scenario begins after a participant has been added to the service by registering for an NPQ course
</p>
<h3 class="govuk-heading-m">1. Provider rejects an NPQ application</h3>
<p class="govuk-body-m">You will need to reject someone if you will be unable to train them. For example they have failed the rest of their application, have decided against studying an NPQ or are unable to secure funding.</p>
<p class="govuk-body-m">
  <code>POST /api/v1/npq-applications/{id}/reject</code>
</p>
<p class="govuk-body-m">This returns an
  <a href="/lead-providers/guidance/reference#npqapplicationresponse-object" class="govuk-link">NPQ application record</a>.
</p>


<h2 id="declaring-that-an-npq-participant-has-started-their-induction" class="govuk-heading-l">
  Declaring that an NPQ participant has started their induction
</h2>
<p class="govuk-body-m">
  This scenario begins after it has been confirmed that an NPQ participant is ready to begin their induction training.
</p>

<h3 class="govuk-heading-m">1. Provider confirms an NPQ participant has started</h3>
<p class="govuk-body-m">Confirm an NPQ participant has started their induction training before Milestone 1.</p>
<p class="govuk-body-m">
  <code>POST /api/v1/participant-declarations</code>
</p>
<p class="govuk-body-m">With a request body containing an
  <a href="/lead-providers/guidance/reference#npqparticipantstarteddeclaration-object" class="govuk-link">
    NPQ participant declaration
  </a>.
</p>
<p class="govuk-body-m">This returns
  <a href="/lead-providers/guidance/reference#participantdeclarationrecordedresponse-object" class="govuk-link">
    participant declaration recorded
  </a>.
</p>
<p class="govuk-body-m">See
  <a href="/lead-providers/guidance/reference#post-api-v1-participant-declarations" class="govuk-link">
    confirm NPQ participant declarations
  </a>
  endpoint.
</p>

<h3 class="govuk-heading-m">2. Provider records the NPQ participant declaration id</h3>
<p class="govuk-body-m">Store the returned NPQ participant declaration id for future management tasks.</p>

