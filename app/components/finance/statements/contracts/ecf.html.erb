<details class="govuk-details contract-information" data-module="govuk-details">
  <summary class="govuk-details__summary">
    <span class="govuk-details__summary-text"><%= t("finance.contract_information") %></span>
  </summary>

  <div class="govuk-details__text">
    <dl class="govuk-summary-list govuk-summary-list--no-border">
      <div class="govuk-summary-list__row">
        <dt class="govuk-summary-list__key">
          <%=t("finance.provider") %>
        </dt>
        <dd class="govuk-summary-list__value">
          <%=name %>
        </dd>
      </div>
    </dl>
    <dl class="govuk-summary-list">
      <div class="govuk-summary-list__row">
        <dt class="govuk-summary-list__key">
          <%=t("finance.contract.recruitment_target") %>
        </dt>
        <dd class="govuk-summary-list__value">
          <%=recruitment_target %>
        </dd>
      </div>
      <% if revised_target.present? %>
        <div class="govuk-summary-list__row">
          <dt class="govuk-summary-list__key">
            <%=t("finance.contract.revised_target", default_revised_recruitment_target_percentage: number_to_percentage(CallOffContract::DEFAULT_REVISED_RECRUITMENT_TARGET_PERCENTAGE * 100, strip_insignificant_zeros: true, precision: 0)) %>
          </dt>
          <dd class="govuk-summary-list__value">
            <%=revised_target %>
          </dd>
        </div>
      <% end %>
      <% if uplift_amount.present? %>
        <div class="govuk-summary-list__row">
          <dt class="govuk-summary-list__key">
            <%=t("finance.contract.uplift_target") %>
          </dt>
          <dd class="govuk-summary-list__value">
            <%= float_to_percentage uplift_target %>
          </dd>
        </div>
        <div class="govuk-summary-list__row">
          <dt class="govuk-summary-list__key">
            <%=t("finance.contract.uplift_amount") %>
          </dt>
          <dd class="govuk-summary-list__value">
            <%= number_to_pounds uplift_amount %>
          </dd>
        </div>
      <% end %>
      <div class="govuk-summary-list__row">
        <dt class="govuk-summary-list__key">
          <%=t("finance.contract.set_up_fee") %>
        </dt>
        <dd class="govuk-summary-list__value">
          <%= number_to_pounds set_up_fee %>
        </dd>
      </div>
    </dl>

    <table class="govuk-table">
      <thead class="govuk-table__head">
        <tr class="govuk-table__row">
          <th class="govuk-table__header"><%=t "finance.contract.band" %></th>
          <th class="govuk-table__header govuk-table__cell--numeric"><%=t "finance.contract.bands.min" %></th>
          <th class="govuk-table__header govuk-table__cell--numeric"><%=t "finance.contract.bands.max" %></th>
          <th class="govuk-table__header govuk-table__cell--numeric"><%=t "finance.per_participant"%></th>
        </tr>
      </thead>
      <tbody class="govuk-table__body">
        <% bands.each_with_index.map do |band, index| %>
          <tr class="govuk-table__row">
            <td class="govuk-table__cell"><%= t("finance.ecf.bands.#{index}") %></td>
            <td class="govuk-table__cell govuk-table__cell--numeric"><%= band.min || t("finance.contract.bands.floor") %></td>
            <td class="govuk-table__cell govuk-table__cell--numeric"><%= band.max || t("finance.contract.bands.ceiling") %></td>
            <td class="govuk-table__cell govuk-table__cell--numeric"><%= number_to_pounds band.per_participant %></td>
          </tr>
        <% end %>
      </tbody>
    </table>
  </div>
</details>
