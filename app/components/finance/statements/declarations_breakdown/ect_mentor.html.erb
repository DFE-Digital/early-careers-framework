<div class="finance-panel finance-panel__summary_and_counts govuk-!-margin-bottom-5 print-page-break">
  <%= govuk_table do |table| %>
    <% table.with_caption(size: "m", text: "Declarations summary") %>
    <% table.with_head do |head| %>
      <% head.with_row do |row| %>
        <% row.with_cell(header: true, text: "", classes: "govuk-!-width-one-quarter") %>
        <% row.with_cell(header: true, text: "ECTs", numeric: true) %>
        <% row.with_cell(header: true, text: "Mentors", numeric: true) %>
      <% end %>
    <% end %>

    <% table.with_body do |body| %>
      <% body.with_row do |row| %>
        <% row.with_cell(text: "Started") %>
        <% row.with_cell(text: ect_calculator.started_count, numeric: true) %>
        <% row.with_cell(text: mentor_calculator.started_count, numeric: true) %>
      <% end %>
      <% body.with_row do |row| %>
        <% row.with_cell(text: "Retained") %>
        <% row.with_cell(text: ect_calculator.retained_count, numeric: true) %>
        <% row.with_cell(text: "-", numeric: true) %>
      <% end %>
      <% body.with_row do |row| %>
        <% row.with_cell(text: "Completed") %>
        <% row.with_cell(text: ect_calculator.completed_count, numeric: true) %>
        <% row.with_cell(text: mentor_calculator.completed_count, numeric: true) %>
      <% end %>
      <% body.with_row do |row| %>
        <% row.with_cell(text: "Extended") %>
        <% row.with_cell(text: ect_calculator.extended_count, numeric: true) %>
        <% row.with_cell(text: "-", numeric: true) %>
      <% end %>
      <% body.with_row do |row| %>
        <% row.with_cell(text: "Clawed back") %>
        <% row.with_cell(text: ect_calculator.clawed_back_count, numeric: true) %>
        <% row.with_cell(text: mentor_calculator.clawed_back_count, numeric: true) %>
      <% end %>
      <% body.with_row do |row| %>
        <% row.with_cell(text: "Voided") %>
        <% row.with_cell(numeric: true) do %>
          <%= govuk_link_to ect_finance_ecf_payment_breakdown_statement_voided_path(ecf_lead_provider.id, statement) do %>
            <%= ect_calculator.voided_count %>
            <span class="govuk-visually-hidden">ECT voided declarations</span>
          <% end %>
        <% end %>
        <% row.with_cell(numeric: true) do %>
          <%= govuk_link_to mentor_finance_ecf_payment_breakdown_statement_voided_path(ecf_lead_provider.id, statement) do %>
            <%= mentor_calculator.voided_count %>
            <span class="govuk-visually-hidden">Mentor voided declarations</span>
          <% end %>
        <% end %>
      <% end %>
    <% end %>
  <% end %>
  <p class="govuk-body-s govuk-!-text-align-right">
    <%= govuk_link_to "Download declarations (CSV)", finance_ecf_statement_assurance_report_path(@statement, format: :csv) %>
  </p>
</div>
