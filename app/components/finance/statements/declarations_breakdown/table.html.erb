<%= govuk_table do |table| %>
  <% table.with_caption(size: "m", text: "Declarations Summary") %>

  <% table.with_head do |head| %>
    <% head.with_row do |row| %>
      <% row.with_cell(header: true, text: "") %>
      <% row.with_cell(header: true, text: "ECT", numeric: true) %>
      <% row.with_cell(header: true, text: "Mentor", numeric: true) %>
    <% end %>
  <% end %>

  <% table.with_body do |body| %>
    <% body.with_row do |row| %>
      <% row.with_cell(text: "Started") %>
      <% row.with_cell(text: ect_calculator.started_count, numeric: true) %>
      <% row.with_cell(text: mentor_calculator.started_count, numeric: true) %>
    <% end %>
    <% body.with_row do |row| %>
      <% row.with_cell(text: "Retained") %>
      <% row.with_cell(text: ect_calculator.retained_count, numeric: true) %>
      <% row.with_cell(text: "-", numeric: true) %>
    <% end %>
    <% body.with_row do |row| %>
      <% row.with_cell(text: "Completed") %>
      <% row.with_cell(text: ect_calculator.completed_count, numeric: true) %>
      <% row.with_cell(text: mentor_calculator.completed_count, numeric: true) %>
    <% end %>
    <% body.with_row do |row| %>
      <% row.with_cell(text: "Extended") %>
      <% row.with_cell(text: ect_calculator.extended_count, numeric: true) %>
      <% row.with_cell(text: "-", numeric: true) %>
    <% end %>
    <% body.with_row do |row| %>
      <% row.with_cell(text: "Clawed back") %>
      <% row.with_cell(text: ect_calculator.clawed_back_count, numeric: true) %>
      <% row.with_cell(text: mentor_calculator.clawed_back_count, numeric: true) %>
    <% end %>
    <% body.with_row do |row| %>
      <% row.with_cell(text: "Voided") %>
      <% row.with_cell(numeric: true) do %>
        <%= govuk_link_to ect_finance_ecf_payment_breakdown_statement_voided_path(ecf_lead_provider.id, statement) do %>
          <%= ect_calculator.voided_count %>
        <% end %>
      <% end %>
      <% row.with_cell(numeric: true) do %>
        <%= govuk_link_to mentor_finance_ecf_payment_breakdown_statement_voided_path(ecf_lead_provider.id, statement) do %>
          <%= mentor_calculator.voided_count %>
        <% end %>
      <% end %>
    <% end %>
  <% end %>
<% end %>
